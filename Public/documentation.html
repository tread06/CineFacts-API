<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineFacts Documentation</title>

    <!--fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">

    <style>
        body{
            margin: 50px;
            font-family: 'Open Sans', sans-serif;
        }
        .method {
            
            display: inline-block;
            color: white;
            padding: 5px;
            width: 70px;
            border-radius: 3px;
            text-align: center;
        } 
        .get {background-color: teal;} 
        .post {background-color: rgb(168, 37, 168);} 
        .put {background-color: rgb(111, 161, 45);} 
        .delete {background-color: rgb(167, 49, 14);} 

        .endpoint{          
            color: black;
            padding: 5px;
            width: 40px;
            border-radius: 3px;
            text-align: left;
            outline-style: solid;
            outline-color: rgba(73, 75, 88, 0.5);
            outline-width: 2px;
            margin: 0px 5px;
            
        }
        .description{
            
            color: grey;
            padding: 5px;
            width: 40px;
            border-radius: 3px;
            text-align: left;
            outline-style: solid;
            outline-color: rgba(73, 75, 88, 0.5);
            outline-width: 2px;
            margin: 0px 5px;
        }
        .warning{
            
            color: rgb(255, 255, 255);
            padding: 5px;
            width: 40px;
            border-radius: 3px;
            text-align: left;
            outline-style: solid;
            background-color: rgb(189, 82, 82);
            outline-width: 2px;
            margin: 0px 5px;
        }
        .alert{
            
            color: rgb(255, 255, 255);
            padding: 5px;
            width: 40px;
            border-radius: 3px;
            text-align: left;
            outline-style: solid;
            background-color: rgb(194, 121, 26);
            outline-width: 2px;
            margin: 0px 5px;
        }
        table {
            table-layout: fixed;
            border-spacing: 0px;
            width: 90%;
            max-width: 800px;
            box-shadow: 10px 5px 5px rgba(73, 75, 88, 0.068);
        }        
        th,td {
            border: 1px solid rgba(73, 75, 88, 0.5);
            width: 100px;
            overflow: hidden;
            padding: 10px;
        }  
        .label{
            width: 20%;
        }
        .json{
            width: 80%;
        }
    </style>    
</head>

<body>
    <h1>CineFacts API Documentation</h1>
    <h4>The CineFacts API provides information on movies and directors and allows users to create profiles and shareable movie collections.</h4>
    <h2>Users</h2>

    <!-- login -->
    <div>
        <div class="method post">POST</div>
        <span class ="endpoint">/login/:Username/:Password</span>
        <span class ="description">Log in to recieve JWT</span><br><br>        
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json" >none</td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    <code>
                        {<br>
                            &emsp;"user": { <br>
                            &emsp;&emsp;"_id": "6138a07f837faf0a3431d54b",<br>
                            &emsp;&emsp;"Username": "Jody",<br>
                            &emsp;&emsp;"Password": "$2b$10$SfsmuewBK1gqmtoNQh3QYeL2U0WhpeIoHvqX0ySzCiH7bEdG12OHa",<br>
                            &emsp;&emsp;"Email": "jody@test.com",<br>
                            &emsp;&emsp;"Birthday": "1992-12-05T00:00:00.000Z",<br>
                            &emsp;&emsp;"FavoriteMovies": [],<br>
                            &emsp;"__v": 0<br>
                            &emsp;},<br>
                            &emsp;"token": "token"<br>
                        }
                    </code>
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

    <!-- get all users -->
    <div>
        <div class="method get">GET</div>
        <span class ="endpoint">/users</span>
        <span class ="description">Get all users.</span>     
        <span class ="alert">Requires Authentification</span><br><br>      
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json" >none</td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    <code>
                        [<br>
                        &emsp;{<br>
                            &emsp;&emsp;"_id": "612da4b8b3c42b60d761ae9b",<br>
                            &emsp;&emsp;"UserName": "John",<br>
                            &emsp;&emsp;"Birthday": "1997-06-05T00:00:00.000Z",<br>
                            &emsp;&emsp;"FavoriteMovies": [<br>
                            &emsp;&emsp;&emsp;"612d75bb7e144b08d5a5e4c6",<br>
                            &emsp;&emsp;&emsp;"612d75e97e144b08d5a5e4c7",<br>
                            &emsp;&emsp;&emsp;"612d88207e144b08d5a5e4d4"<br>
                            &emsp;&emsp;],<br>
                            &emsp;&emsp;"Email": "John@test.com"<br>
                            &emsp;}<br>
                        ]
                    </code>
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

    <!-- get user -->
    <div>
        <div class="method get">GET</div>
        <span class ="endpoint">/users/:username</span>
        <span class ="description">Get user by username.</span> 
        <span class ="alert">Requires Authentification</span><br><br>     
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json" >none</td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    <code>
                            {<br>
                                &emsp;"_id": "612da4b8b3c42b60d761ae9b",<br>
                                &emsp;"UserName": "John",<br>
                                &emsp;"Birthday": "1997-06-05T00:00:00.000Z",<br>
                                &emsp;"FavoriteMovies": [<br>
                                &emsp;&emsp;"612d75bb7e144b08d5a5e4c6",<br>
                                &emsp;&emsp;"612d75e97e144b08d5a5e4c7",<br>
                                &emsp;&emsp;"612d88207e144b08d5a5e4d4"<br>
                                &emsp;],<br>
                                &emsp;"Email": "John@test.com"<br>
                            }
                    </code>
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

    <!-- create user -->
    <div>
        <div class="method post">POST</div>
        <span class ="endpoint">/users</span>
        <span class ="description">Create a new user from JSON data.</span><br><br>        
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json" >
                    <code>
                        {<br>
                            &emsp;"Username": "Jeb",<br>
                            &emsp;"Password": "password1234",<br>
                            &emsp;"Email": "Jeb@test.com",<br>
                            &emsp;"Birthday": "2000-01-01"<br>
                        }
                </code>
                </td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    Returns the created user data.<br><br>
                    <code>
                        {<br>
                            &emsp;"UserName": "Jeb",<br>
                            &emsp;"Password": "hashedPassword",<br>
                            &emsp;"Email": "Jeb@test.com",<br>
                            &emsp;"Birthday": "2000-01-01T00:00:00.000Z",<br>
                            &emsp;"FavoriteMovies": [],<br>
                            &emsp;"_id": "6132e637733afaf8560f2d69",<br>
                            &emsp;"__v": 0<br>
                        }
                    </code>
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

    <!-- update user -->
    <div>
        <div class="method put">PUT</div>
        <span class ="endpoint">/users/:username</span>
        <span class ="description">Updates user data.</span>
        <span class ="warning">Requires Authorization</span><br><br>     
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json" >
                    <code>
                        {<br>
                            &emsp;Username: "Jeb", (required)<br>
                            &emsp;Password: "password1234", (required)<br>
                            &emsp;Email: Jeb@test.com", (required)<br>
                            &emsp;Birthday: 2000-01-01<br>
                        }
                    </code>
                </td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    Returns the updated user data.<br><br>
                    <code>
                        {<br>
                            &emsp;"UserName": "Jeb",<br>
                            &emsp;"Password": "hashedPassword",<br>
                            &emsp;"Email": "Jeb@test.com",<br>
                            &emsp;"Birthday": "2000-01-01T00:00:00.000Z",<br>
                            &emsp;"FavoriteMovies": [],<br>
                            &emsp;"_id": "6132e637733afaf8560f2d69",<br>
                            &emsp;"__v": 0<br>
                        }
                    </code>
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

    <!-- delete user -->
    <div>
        <div class="method delete">DELETE</div>
        <span class ="endpoint">/users/:username</span>
        <span class ="description">Updates user data.</span>
        <span class ="warning">Requires Authorization</span><br><br>      
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json" >none
                </td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    TEXT - [User] was deleted.
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

    <!-- add movie to user list -->
    <div>
        <div class="method post">POST</div>
        <span class ="endpoint">/users/:username/movies/:movieId</span>
        <span class ="description">Adds a movie to the user's favorite movies list.</span>
        <span class ="warning">Requires Authorization</span><br><br>       
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json">none</td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    Returns the updated user data.<br><br>
                    <code>
                        {<br>
                            &emsp;"_id": "612da4b8b3c42b60d761ae9b",<br>
                            &emsp;"UserName": "User",<br>
                            &emsp;"Password": "hashedPassword",<br>
                            &emsp;"Birthday": "1997-06-05T00:00:00.000Z",<br>
                            &emsp;"FavoriteMovies": [<br>
                            &emsp;&emsp;"612d75bb7e144b08d5a5e4c6",<br>
                            &emsp;&emsp;"612d75e97e144b08d5a5e4c7",<br>
                            &emsp;&emsp;"612d88207e144b08d5a5e4d4"<br>
                            &emsp;],<br>
                            &emsp;"Email": "John@test.com"<br>
                        }
                    </code>
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

    <!-- remove movie from user list -->
    <div>
        <div class="method delete">DELETE</div>
        <span class ="endpoint">/users/:username/movies/:movieId</span>
        <span class ="description">Removes a movie from the user's favorite movies list.</span>
        <span class ="warning">Requires Authorization</span><br><br>     
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json">none</td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    Returns the updated user data.<br><br>
                    <code>
                        {<br>
                            &emsp;"_id": "612da4b8b3c42b60d761ae9b",<br>
                            &emsp;"UserName": "User",<br>
                            &emsp;"Password": "hashedPassword",<br>
                            &emsp;"Birthday": "1997-06-05T00:00:00.000Z",<br>
                            &emsp;"FavoriteMovies": [<br>
                            &emsp;&emsp;"612d75bb7e144b08d5a5e4c6",<br>
                            &emsp;&emsp;"612d75e97e144b08d5a5e4c7",<br>
                            &emsp;&emsp;"612d88207e144b08d5a5e4d4"<br>
                            &emsp;],<br>
                            &emsp;"Email": "John@test.com"<br>
                        }
                    </code>
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

    <h2>Movies</h2>

    <!--get all movies -->

    <div>
        <div class="method get">GET</div>
        <span class ="endpoint">/movies</span>
        <span class ="description">Get all movies.</span>   
        <span class ="alert">Requires Authentification</span><br><br>  
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json" >none</td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    <code>
                        [<br>
                            {<br>
                                &emsp;"Director": {<br>
                                    &emsp;&emsp;"Name": "Francis Ford Coppola",<br>
                                    &emsp;&emsp;"Bio": "Francis Ford Coppola, an American film director, producer...",<br>
                                    &emsp;&emsp;"BirthYear": 1939,<br>
                                    &emsp;&emsp;"DeathYear": null<br>
                                    &emsp;},<br>
                                    &emsp;"_id": "612d75bb7e144b08d5a5e4c6",<br>
                                    &emsp;"Title": "The Godfather",<br>
                                    &emsp;"Genre": "Drama",<br>
                                    &emsp;"Description": "An organized crime dynasty's aging patriarch transfers control..."<br>
                            }<br>
                        ]
                    </code>
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

    <!--get movie -->

    <div>
        <div class="method get">GET</div>
        <span class ="endpoint">/movies/:title</span>
        <span class ="description">Get movie by title.</span> 
        <span class ="alert">Requires Authentification</span><br><br>     
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json" >none</td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    <code>
                            {<br>
                                &emsp;"Director": {<br>
                                    &emsp;&emsp;"Name": "Francis Ford Coppola",<br>
                                    &emsp;&emsp;"Bio": "Francis Ford Coppola, an American film director, producer...",<br>
                                    &emsp;&emsp;"BirthYear": 1939,<br>
                                    &emsp;&emsp;"DeathYear": null<br>
                                    &emsp;},<br>
                                &emsp;"_id": "612d75bb7e144b08d5a5e4c6",<br>
                                &emsp;"Title": "The Godfather",<br>
                                &emsp;"Genre": "Drama",<br>
                                &emsp;"Description": "An organized crime dynasty's aging patriarch transfers control..."<br>
                            }
                    </code>
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>
    
    <h2>Docs</h2>

    <!-- documentation -->
    <div>
        <div class="method get">GET</div>
        <span class ="endpoint">/documentation</span>
        <span class ="description">Returns HTML documentation</span><br><br>        
        <table>
            <tr>
                <td class="label">Request Body</td>
                <td class="json" >none</td>
            </tr>
            <tr>
                <td>Responce Body</td>
                <td>
                    HTML documenation
                </td>
            </tr>
        </table>
    </div>
    <br>
    <br>

</body>
</html>